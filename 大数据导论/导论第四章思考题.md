### 1.基于HDFS的文件操作与基于Windows的文件操作有什么异同？

#### HDFS文件操作系统

##### 优点：

​	1.支持海量数据的存储：一般来说，HDFS存储的文件可以支持TB和PB级别的数据。
​	2.检测和快速应对硬件故障：在集群环境中，硬件故障是常见性问题。因为有上千台服务器连在一起，故障率很高，因此故障检测和自动恢复hdfs文件系统的一个设计目标。假设某一个datanode挂掉之后，因为数据是有备份的，还可以从其他节点里找到。namenode通过心跳机制来检测datanode是否还存活。
​	3.流式数据访问：（HDFS不能做到低延迟的数据访问，但是HDFS的吞吐量大）=》Hadoop适用于处理离线数据，不适合处理实时数据。HDFS的数据处理规模比较大，应用一次需要大量的数据，同时这些应用一般都是批量处理，而不是用户交互式处理。应用程序能以流的形式访问数据库。主要的是数据的吞吐量，而不是访问速度。访问速度最终是要受制于网络和磁盘的速度，机器节点再多，也不能突破物理的局限。
​	4.简化的一致性模型：对于外部使用用户，不需要了解hadoop底层细节，比如文件的切块，文件的存储，节点的管理。一个文件存储在HDFS上后，适合一次写入，多次读取的场景。因为存储在HDFS上的文件都是超大文件，当上传完这个文件到hadoop集群后，会进行文件切块，分发，复制等操作。如果文件被修改，会导致重新触发这个过程，而这个过程耗时是最长的。所以在hadoop里，2.0版本允许数据的追加，单不允许数据的修改。
​	5.高容错性：数据自动保存多个副本，副本丢失后自动恢复。可构建在廉价的机器上，实现线性扩展。当集群增加新节点之后，namenode也可以感知，将数据分发和备份到相应的节点上。
​	6.商用硬件：Hadoop并不需要运行在昂贵且高可靠的硬件上。它是设计运行在商用硬件（在各种零售店都能买到的普通硬件）的集群上的，因此至少对于庞大的集群来说，节点故障的几率还是非常高的。HDFS遇到上述故障时，被设计成能够继续运行且不让用户察觉到明显的中断。

##### 缺点：

　1、不能做到低延迟数据访问：由于hadoop针对高数据吞吐量做了优化，牺牲了获取数据的延迟，所以对于低延迟数据访问，不适合hadoop。对于低延迟的访问需求，HBase是更好的选择。
　2、不适合大量的小文件存储 ：由于namenode将文件系统的元数据存储在内存中，因此该文件系统所能存储的文件总数受限于namenode的内存容量。根据经验，每个文件、目录和数据块的存储信息大约占150字节。因此，如果有一百万个小文件，每个小文件都会占一个数据块，那至少需要300MB内存。如果是上亿级别的，就会超出当前硬件的能力。
　3、修改文件：对于上传到HDFS上的文件，不支持修改文件。Hadoop2.0虽然支持了文件的追加功能，但是还是不建议对HDFS上的文件进行修改。因为效率低下。HDFS适合一次写入，然后多次读取的场景。
　4、不支持用户的并行写：同一时间内，只能有一个用户执行写操作。

#### Windows文件操作系统

##### 一．Windows磁盘管理

1. Windows的文件系统是以**设备驱动**的形式来实现的。

2. 操作系统将**信息以文件**的形式存储在**外存**（如磁盘上），**文件系统驱动和磁盘驱动**共同构建了Windows的文件系统。

3. Windows将磁盘分为固定大小的“扇区”，扇区的大小取决于不同的存储设备。

4. 相邻的扇区集合组成“分区”，Windows通过分区表来存储每个分区的开始扇区，大小和其他相关特性。

5. Windows通过“卷”来抽象一个或几个分区，它是文件系统操作磁盘的逻辑单位。

6. 文件系统是构建在磁盘管理之上。

7. 系统通过分区管理器和卷管理器与磁盘设备进行交互，为文件系统提供一个以卷为单位的逻辑视图

8. 文件系统在卷管理器的基础之上构建文件系统的格式，并为I/O管理器提供操作文件的接口。

### 2、为什么要采用MapReduce这种计算方式？与一般的高级语言直接读/写数据计算有何优缺点？

这些问题的答案来自磁盘的另一个发展趋势： 寻址时间的提高远远慢于传输速率的提高。寻址是将磁头移动到特定磁盘位置进行读写操作的过程。它是导致磁盘操作延迟的主要原因，因而传输速率取决于磁盘的带宽。   　　

如果数据的访问模式中包含大量的磁盘寻址，那么读取大量数据集所化的时间势必会更长（相较于流式数据读取模式），流式读取主要取决于传输速率。另一方面，如果数据库系统只更新一小部分记录，那么传统的B树更有优势。但数据库系统更新大部分数据时，B树的效率比MapReduce低得多，因为需要使用“排序/合并”来重建数据库。   　　

许多情况下，可以将MapReduce视为关系型数据库管理系统的补充。两个系统之间的差异如下表所示。MapReduce比较适合以批处理的方式处理需要分析整个数据集的问题，尤其是即席分析。RDBMS（关系型数据库管理系统）适用于“点查询”和更新，数据集被索引后，数据库系统能够提供低延迟的数据检索和快速的少量数据更新。MapReduce适合一次写入，多次读取数据的应用，而 关系型数据库更适合持续更新的数据集。 

##### 传统关系型数据库与MapReduce的比较：

|          | 传统关系型数据库 | MapReduce        |
| :------- | :--------------- | ---------------- |
| 数据大小 | GB               | PB               |
| 访问     | 交互式和批处理   | 批处理           |
| 更新     | 多次读写         | 一次写入多次读取 |
| 结构     | 静态模式         | 动态模式         |
| 完整性   | 高               | 低               |
| 横向扩展 | 非线性           | 线性             |
